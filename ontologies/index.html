



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.3, mkdocs-material-2.7.2">
    
    
      
        <title>Ontology Class - skills-ml documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.8d40d89b.css">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#working-with-ontologies" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="skills-ml documentation" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                skills-ml documentation
              </span>
              <span class="md-header-nav__topic">
                Ontology Class
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    skills-ml documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../examples/" title="Examples" class="md-nav__link">
      Examples
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Ontology Class
      </label>
    
    <a href="./" title="Ontology Class" class="md-nav__link md-nav__link--active">
      Ontology Class
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#working-with-ontologies" title="Working With Ontologies" class="md-nav__link">
    Working With Ontologies
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#competency" title="Competency" class="md-nav__link">
    Competency
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-example" title="Basic Example" class="md-nav__link">
    Basic Example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-parentchild-relationship" title="Example parent/child relationship" class="md-nav__link">
    Example parent/child relationship
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#occupation" title="Occupation" class="md-nav__link">
    Occupation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-example_1" title="Basic Example" class="md-nav__link">
    Basic Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#competencyoccupationedge" title="CompetencyOccupationEdge" class="md-nav__link">
    CompetencyOccupationEdge
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-example_2" title="Basic Example" class="md-nav__link">
    Basic Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#competencyontology" title="CompetencyOntology" class="md-nav__link">
    CompetencyOntology
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-example_3" title="Basic Example" class="md-nav__link">
    Basic Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#included-ontologies" title="Included Ontologies" class="md-nav__link">
    Included Ontologies
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#onet" title="ONET" class="md-nav__link">
    ONET
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uses-of-ontologies" title="Uses of Ontologies" class="md-nav__link">
    Uses of Ontologies
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#filtering" title="Filtering" class="md-nav__link">
    Filtering
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retrieving-leaf-strings" title="Retrieving Leaf Strings" class="md-nav__link">
    Retrieving Leaf Strings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exporting-as-json-ld" title="Exporting as JSON-LD" class="md-nav__link">
    Exporting as JSON-LD
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../common_schema/" title="Job Posting Common Schema" class="md-nav__link">
      Job Posting Common Schema
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../skills_ml.evaluation/" title="Evaluation Tools" class="md-nav__link">
      Evaluation Tools
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../skills_ml.algorithms/" title="Algorithms" class="md-nav__link">
      Algorithms
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../skills_ml.job_postings/" title="Job Posting Dataset Processors" class="md-nav__link">
      Job Posting Dataset Processors
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../skills_ml.datasets/" title="External Dataset Processors" class="md-nav__link">
      External Dataset Processors
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#working-with-ontologies" title="Working With Ontologies" class="md-nav__link">
    Working With Ontologies
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#competency" title="Competency" class="md-nav__link">
    Competency
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-example" title="Basic Example" class="md-nav__link">
    Basic Example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-parentchild-relationship" title="Example parent/child relationship" class="md-nav__link">
    Example parent/child relationship
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#occupation" title="Occupation" class="md-nav__link">
    Occupation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-example_1" title="Basic Example" class="md-nav__link">
    Basic Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#competencyoccupationedge" title="CompetencyOccupationEdge" class="md-nav__link">
    CompetencyOccupationEdge
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-example_2" title="Basic Example" class="md-nav__link">
    Basic Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#competencyontology" title="CompetencyOntology" class="md-nav__link">
    CompetencyOntology
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-example_3" title="Basic Example" class="md-nav__link">
    Basic Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#included-ontologies" title="Included Ontologies" class="md-nav__link">
    Included Ontologies
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#onet" title="ONET" class="md-nav__link">
    ONET
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uses-of-ontologies" title="Uses of Ontologies" class="md-nav__link">
    Uses of Ontologies
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#filtering" title="Filtering" class="md-nav__link">
    Filtering
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retrieving-leaf-strings" title="Retrieving Leaf Strings" class="md-nav__link">
    Retrieving Leaf Strings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exporting-as-json-ld" title="Exporting as JSON-LD" class="md-nav__link">
    Exporting as JSON-LD
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Ontology Class</h1>
                
                <h2 id="working-with-ontologies"><a class="toclink" href="#working-with-ontologies">Working With Ontologies</a><a class="headerlink" href="#working-with-ontologies" title="Permanent link">&para;</a></h2>
<p>skills-ml is introducing the CompetencyOntology class, for a rich, flexible representation of competencies, occupations, and their relationships with each other. The CompetencyOntology class is backed by JSON-LD, and based on Credential Engine's <a href="https://credreg.net/ctdlasn/terms#Competency">CTDL-ASN format for Competencies</a>. The goal is to be able to read in any CTDL-ASN framework and produce a CompetencyOntology object for use throughout the skills-ml library.</p>
<p>Furthermore, skills-ml contains pre-mapped versions of open frameworks like ONET for use out of the box.</p>
<h3 id="competency"><a class="toclink" href="#competency">Competency</a><a class="headerlink" href="#competency" title="Permanent link">&para;</a></h3>
<p>A competency, in the CTDL-ASN context, refers some knowledge, skill, or ability that a person can possess or learn. Each competency contains:</p>
<ul>
<li>A unique identifier within the ontology. If you're familiar with ONET, think the table of contents identifiers (e.g. '1.A.1.a.1')</li>
<li>Some basic textual information: a name (e.g. Oral Comprehension) and/or description (e.g. 'The ability to listen to and understand information and ideas presented through spoken words and sentences.'),
, and maybe a general textual category (e.g. Ability)</li>
<li>Associative information with other competencies. A basic example is a parent/child relationship, for instance ONET's definition of 'Oral Comprehension' as the child of another competency called 'Verbal Abilities'. CTDL-ASN encodes this using the 'hasChild' and 'isChildOf' properties, and this is used in skills-ml. There many other types of associations competencies can have with each other that the Competency class in skills-ml does not yet address, you can read more at the <a href="http://purl.org/ctdlasn/terms/Competency">Credential Engine's definition ofCompetency</a>.</li>
</ul>
<p>The Competency class tracks all of this. It can be created using either keyword arguments in the class' Constructor or through a class method that loads from JSON-LD. </p>
<h4 id="basic-example"><a class="toclink" href="#basic-example">Basic Example</a><a class="headerlink" href="#basic-example" title="Permanent link">&para;</a></h4>
<p><em>Using Python Constructor</em></p>
<pre><code class="python">from skills_ml.ontologies import Competency

dinosaur_riding = Competency(
    identifier='12345',
    name='Dinosaur Riding',
    description='Using the back of a dinosaur for transportation'
)
</code></pre>

<p><em>Using JSON-LD</em></p>
<pre><code class="python">from skills_ml.ontologies import Competency

dinosaur_riding = Competency.from_jsonld({
    '@type': 'Competency',
    '@id': '12345',
    'name': 'Dinosaur Riding',
    'description': 'Using the back of a dinosaur for transportation'
})
</code></pre>

<p>To aid in bi-directional searching, the Competency object is meant to include a parent/child relationshiop on both the parent and child objects. The add_parent and add_child methods modify both the parent and child objects to easily maintain this bi-directional relationship.</p>
<h4 id="example-parentchild-relationship"><a class="toclink" href="#example-parentchild-relationship">Example parent/child relationship</a><a class="headerlink" href="#example-parentchild-relationship" title="Permanent link">&para;</a></h4>
<p><em>Using Python Constructor</em></p>
<pre><code class="python">from skills_ml.ontologies import Competency

dinosaur_riding = Competency(
    identifier='12345',
    name='Dinosaur Riding',
    description='Using the back of a dinosaur for transportation'
)

extreme_transportation = Competency(
    identifier='123',
    name='Extreme Transportation',
    description='Comically dangerous forms of transportation'
)
dinosaur_riding.add_parent(extreme_transportation)
print(dinosaur_riding.parents)
print(extreme_transportation.children)
</code></pre>

<p><em>Using JSON-LD</em></p>
<pre><code class="python">dinosaur_riding = Competency.from_jsonld({
    '@type': 'Competency',
    '@id': '12345',
    'name': 'Dinosaur Riding',
    'description': 'Using the back of a dinosaur for transportation',
    'isChildOf': [{'@type': 'Competency', '@id': '123'}]
})

extreme_transportation = Competency.from_jsonld({
    '@type': 'Competency',
    '@id': '123',
    'name': 'Extreme Transportation',
    'description': 'Comically dangerous forms of transportation',
    'hasChild': [{'@type': 'Competency', '@id': '12345'}]
</code></pre>

<h3 id="occupation"><a class="toclink" href="#occupation">Occupation</a><a class="headerlink" href="#occupation" title="Permanent link">&para;</a></h3>
<p>An Occupation is a job or profession that a person can hold. CTDL-ASN does not define this, so skills-ml models the Occupation similarly to the Competency, albeit with far less detail. </p>
<ul>
<li>A unique identifier within the ontology. If you're familiar with ONET, think of an ONET SOC code (11-1011.00)</li>
<li>Some basic textual information: a name (e.g. Civil Engineer), maybe a description.</li>
<li>Associative information with other occupations. So far the only relationship modeled in skills-ml between occupations is a parent/child one, similarly to Competency. Going back to the ONET example, an occupation representing the major group (identifier 11) may be thought of as the parent of SOC code 11-1011.00.</li>
</ul>
<h4 id="basic-example_1"><a class="toclink" href="#basic-example_1">Basic Example</a><a class="headerlink" href="#basic-example_1" title="Permanent link">&para;</a></h4>
<p><em>Using Python Constructor</em></p>
<pre><code class="python">from skills_ml.ontologies import Occupation

dinosaur_rider = Occupation(
    identifier='9999',
    name='Dinosaur Rider',
)
</code></pre>

<p><em>Using JSON-LD</em></p>
<pre><code class="python">from skills_ml.ontologies import Occupation

dinosaur_rider = Occupation.from_jsonld({
    '@type': 'Occupation',
    '@id': '9999',
    'name': 'Dinosaur Rider'
})
</code></pre>

<h3 id="competencyoccupationedge"><a class="toclink" href="#competencyoccupationedge">CompetencyOccupationEdge</a><a class="headerlink" href="#competencyoccupationedge" title="Permanent link">&para;</a></h3>
<p>A CompetencyOccupationEdge is simply a relationship between a Competency and an Occupation. Currently, tthere are no further properties defined on this edge, though this will likely change in the future. </p>
<h4 id="basic-example_2"><a class="toclink" href="#basic-example_2">Basic Example</a><a class="headerlink" href="#basic-example_2" title="Permanent link">&para;</a></h4>
<p><em>Using Python Constructor</em></p>
<pre><code class="python">from skills_ml.ontologies import CompetencyOccupationEdge

CompetencyOccupationEdge(
    occupation=dinosaur_rider,
    competency=dinosaur_riding
)
</code></pre>

<p><em>Using JSON-LD</em></p>
<pre><code class="python">from skills_ml.ontologies import CompetencyOccupationEdge

CompetencyOccupationEdge.from_jsonld({
    '@type': 'CompetencyOccupationEdge',
    '@id': 'competency=12345;occupation=9999',
    'competency': {'@type': 'Competency', '@id': '12345'},
    'occupation': {'@type': 'Occupation', '@id': '9999'}
})
</code></pre>

<h3 id="competencyontology"><a class="toclink" href="#competencyontology">CompetencyOntology</a><a class="headerlink" href="#competencyontology" title="Permanent link">&para;</a></h3>
<p>An ontology represents a collection of competencies, a collection of occupations, and a collection of all relationships between competencies and occupations. The CompetencyOntology class represents each of these three collections using a <code>set</code> object. The identifiers for all of those objects are used to disambiguate between items in each of these sets. The JSON-LD representation of the ontology mirrors this internal structure.</p>
<p>Below is an example of the objects defined above arranged into a CompetencyOntology. For brevity, the descriptions are omitted. </p>
<p>Note in the Python example that importing the CompetencyOccupationEdge class is not necessary when using the Ontology; the <code>add_edge</code> method of Ontology can simply take a competency and occupation directly. </p>
<h4 id="basic-example_3"><a class="toclink" href="#basic-example_3">Basic Example</a><a class="headerlink" href="#basic-example_3" title="Permanent link">&para;</a></h4>
<p><em>Using Python Constructor</em></p>
<pre><code class="python">from skills_ml.ontologies import Competency, Occupation, CompetencyOntology

ontology = CompetencyOntology()

dinosaur_riding = Competency(identifier='12345', name='Dinosaur Riding')
extreme_transportation = Competency(identifier='123', name='Extreme Transportation')
dinosaur_riding.add_parent(extreme_transportation)


dinosaur_rider = Occupation(identifier='9999', name='Dinosaur Rider')

ontology.add_competency(dinosaur_riding)
ontology.add_competency(extreme_transportation)
ontology.add_occupation(dinosaur_rider)
ontology.add_edge(occupation=dinosaur_rider, competency=dinosaur_riding)
</code></pre>

<p><em>Using JSON-LD</em></p>
<pre><code class="python">from skills_ml.ontologies import CompetencyOntology

ontology = CompetencyOntology.from_jsonld({
    'competencies': [{
        '@type': 'Competency',
        '@id': '12345',
        'name': 'Dinosaur Riding',
        'description': 'Using the back of a dinosaur for transportation',
        'isChildOf': [{'@type': 'Competency', '@id': '123'}]
    }, {
        '@type': 'Competency',
        '@id': '123',
        'name': 'Extreme Transportation',
        'description': 'Comically dangerous forms of transportation',
        'hasChild': [{'@type': 'Competency', '@id': '12345'}]
    }],
    'occupations': [{
        '@type': 'Occupation',
        '@id': '9999',
        'name': 'Dinosaur Rider'
    }],
    'edges': [{
        '@type': 'CompetencyOccupationEdge',
        '@id': 'competency=12345;occupation=9999',
        'competency': {'@type': 'Competency', '@id': '12345'},
        'occupation': {'@type': 'Occupation', '@id': '9999'}
    }]
})
</code></pre>

<h3 id="included-ontologies"><a class="toclink" href="#included-ontologies">Included Ontologies</a><a class="headerlink" href="#included-ontologies" title="Permanent link">&para;</a></h3>
<h4 id="onet"><a class="toclink" href="#onet">ONET</a><a class="headerlink" href="#onet" title="Permanent link">&para;</a></h4>
<p>The <code>skills_ml.ontologies.onet</code> module contains a builder function to create a CompetencyOntology object from a variety of files on the ONET site, using at the time of writing the latest version of onet (db_v22_3):</p>
<ul>
<li>Content Model Reference.txt</li>
<li>Knowledge.txt</li>
<li>Skills.txt</li>
<li>Abilities.txt</li>
<li>Tools and Technology.txt</li>
<li>Occupation Data.txt</li>
</ul>
<pre><code class="python">
from skills.ml.ontologies.onet import build_onet

ONET = build_onet()
# this will take a while as it downloads the relatively large files and processes them
ONET.filter_by(lambda edge: 'forklift' in edge.competency.name)
</code></pre>

<p>If you pass in an ONET cache object, the raw ONET files can be cached on your filesystem so that building it the second time will be faster.</p>
<pre><code class="python">from skills_ml.storage import FSStore
from skills_ml.datasets.onet_cache import OnetSiteCache
from skills_ml.ontologies.onet import build_onet

ONET = build_onet(OnetSiteCache(FSStore('onet_cache')))
</code></pre>

<h3 id="uses-of-ontologies"><a class="toclink" href="#uses-of-ontologies">Uses of Ontologies</a><a class="headerlink" href="#uses-of-ontologies" title="Permanent link">&para;</a></h3>
<p>There isn't much functionality built up around ontologies just yet, but the class is under heavy development. </p>
<h4 id="filtering"><a class="toclink" href="#filtering">Filtering</a><a class="headerlink" href="#filtering" title="Permanent link">&para;</a></h4>
<p>You can filter the graph to produce subsets based on the list of edges. This will return another CompetencyOntology object, so any code that takes an ontology as input will work on the subsetted graph.</p>
<pre><code class="python">
# Return an ontology that consists only of competencies with 'python' in the name, along with their related occupations
ontology.filter_by(lambda edge: 'python' in edge.competency.name.lower())

# Return an ontology that consists only of occupations with 'software' in the name, along with their associated competencies
ontology.filter_by(lambda edge: 'software' in edge.competency.name.lower())

# Return an ontology that is the intersection of 'python' competencies and 'software' occupations
ontology.filter_by(lambda edge: 'software' in edge.occupation.name.lower() and 'python' in edge.competency.name.lower())

# Return only competencies who have a parent competency containing 'software'
ontology.filter_by(lambda edge: any('software' in parent.name.lower() for parent in edge.parents)
</code></pre>

<h4 id="retrieving-leaf-strings"><a class="toclink" href="#retrieving-leaf-strings">Retrieving Leaf Strings</a><a class="headerlink" href="#retrieving-leaf-strings" title="Permanent link">&para;</a></h4>
<p>Retrieving all the detailed competencies as a list of strings can be helpful for using as a reference list for skill extraction.</p>
<pre><code class="python">
leaf_skill_strings = [
    competency.name for competency in 
    ontology.filter_by(lambda edge: len(edge.competency.children) == 0).competencies
]
</code></pre>

<h4 id="exporting-as-json-ld"><a class="toclink" href="#exporting-as-json-ld">Exporting as JSON-LD</a><a class="headerlink" href="#exporting-as-json-ld" title="Permanent link">&para;</a></h4>
<p>You can export an ontology as a JSON-LD object for storage that you can later import</p>
<pre><code class="python">
import json

with open('out.json', 'w') as f:
    json.dump(ontology.jsonld, f)
</code></pre>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../examples/" title="Examples" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Examples
              </span>
            </div>
          </a>
        
        
          <a href="../common_schema/" title="Job Posting Common Schema" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Job Posting Common Schema
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.b438e6c5.js"></script>
      
      <script>app.initialize({version:"0.17.3",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>